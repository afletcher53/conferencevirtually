var CoolLightBox=function(t){"use strict";function i(t,i,e,o,s,n,l,a,r,h){"boolean"!=typeof l&&(r=a,a=l,l=!1);var c="function"==typeof e?e.options:e;t&&t.render&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0,s&&(c.functional=!0)),o&&(c._scopeId=o);var u;if(n?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,r(t)),t&&t._registeredComponents&&t._registeredComponents.add(n)},c._ssrRegister=u):i&&(u=l?function(){i.call(this,h(this.$root.$options.shadowRoot))}:function(t){i.call(this,a(t))}),u)if(c.functional){var d=c.render;c.render=function(t,i){return u.call(i),d(t,i)}}else{var g=c.beforeCreate;c.beforeCreate=g?[].concat(g,u):[u]}return e}function e(t){e.installed||(e.installed=!0,t.component("CoolLightBox",o))}var o=i({render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("transition",{attrs:{name:"cool-lightbox-modal"}},[t.isVisible?e("div",{staticClass:"cool-lightbox",class:t.lightboxClasses,style:t.lightboxStyles,on:{click:t.closeModal}},[t.gallery?e("div",{staticClass:"cool-lightbox-thumbs"},[e("div",{staticClass:"cool-lightbox-thumbs__list"},t._l(t.items,function(i,o){return e("button",{key:o,staticClass:"cool-lightbox__thumb",class:{active:o===t.imgIndex,"is-video":t.isVideo(t.getItemSrc(o))},attrs:{type:"button"},on:{click:function(i){t.imgIndex=o}}},[t.isVideo(t.getItemSrc(o))?e("svg",{staticClass:"cool-lightbox__thumb__icon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M6.5 5.4v13.2l11-6.6z"}})]):t._e(),t._v(" "),e("img",{attrs:{src:t.itemThumb(t.getItemSrc(o),o),alt:""}})])}),0)]):t._e(),t._v(" "),e("div",{staticClass:"cool-lightbox__inner",style:t.innerStyles},[e("div",{staticClass:"cool-lightbox__progressbar",style:t.stylesInterval}),t._v(" "),e("div",{staticClass:"cool-lightbox__navigation"},[e("button",{directives:[{name:"show",rawName:"v-show",value:(t.hasPrevious||t.loop)&&t.items.length>1,expression:"(hasPrevious || loop) && items.length > 1"}],staticClass:"cool-lightbox-button cool-lightbox-button--prev",class:t.buttonsClasses,attrs:{type:"button"},on:{click:t.onPrevClick}},[t._t("icon-previous",[e("div",{staticClass:"cool-lightbox-button__icon"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z"}})])])])],2),t._v(" "),e("button",{directives:[{name:"show",rawName:"v-show",value:(t.hasNext||t.loop)&&t.items.length>1,expression:"(hasNext || loop) && items.length > 1"}],staticClass:"cool-lightbox-button cool-lightbox-button--next",class:t.buttonsClasses,attrs:{type:"button"},on:{click:function(i){return t.onNextClick(!1)}}},[t._t("icon-next",[e("div",{staticClass:"cool-lightbox-button__icon"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z"}})])])])],2)]),t._v(" "),e("div",{staticClass:"cool-lightbox__wrapper"},[e("div",{staticClass:"cool-lightbox__slide",on:{touchstart:t.startSwipe,touchmove:t.continueSwipe,touchend:t.endSwipe}},[e("transition",{attrs:{name:"cool-lightbox-slide-change",mode:"out-in"}},[t.videoUrl?e("div",{key:"video",staticClass:"cool-lightbox__iframe"},[e("transition",{attrs:{name:"cool-lightbox-slide-change",mode:"out-in"}},[t.isMp4?t._e():e("iframe",{key:t.videoUrl,staticClass:"cool-lightbox-video",style:t.aspectRatioVideo,attrs:{src:t.videoUrl,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}),t._v(" "),t.isMp4?e("video",{key:t.videoUrl,staticClass:"cool-lightbox-video",style:t.aspectRatioVideo,attrs:{controls:"",controlslist:"nodownload",poster:""}},[e("source",{attrs:{src:t.videoUrl,type:"video/mp4"}}),t._v("\n                  Sorry, your browser doesn't support embedded videos\n                ")]):t._e()])],1):e("div",{key:"image",staticClass:"cool-lightbox__slide__img",style:t.imgWrapperStyle},[e("transition",{attrs:{name:"cool-lightbox-slide-change",mode:"out-in"}},[e("img",{key:t.imgIndex,attrs:{src:t.itemSrc,draggable:"false"},on:{click:t.zoomImage,load:t.imageLoaded,mousedown:function(i){return t.handleMouseDown(i)},mouseup:function(i){return t.handleMouseUp(i)},mousemove:function(i){return t.handleMouseMove(i)}}})]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.imageLoading,expression:"imageLoading"}],staticClass:"cool-lightbox-loading-wrapper"},[t._t("loading",[e("div",{staticClass:"cool-lightbox-loading"})])],2)],1)])],1)]),t._v(" "),e("transition",{attrs:{name:"modal"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isObject&&(t.items[t.imgIndex].title||t.items[t.imgIndex].description),expression:"isObject && (items[imgIndex].title || items[imgIndex].description)"}],key:"caption-block",staticClass:"cool-lightbox-caption"},[e("transition",{attrs:{name:"cool-lightbox-slide-change",mode:"out-in"}},[t.isObject&&t.items[t.imgIndex].title?e("h6",{key:"title"},[t._v(t._s(t.items[t.imgIndex].title))]):t._e()]),t._v(" "),e("transition",{attrs:{name:"cool-lightbox-slide-change",mode:"out-in"}},[t.isObject&&t.items[t.imgIndex].description?e("p",{key:"description"},[t._v(t._s(t.items[t.imgIndex].description))]):t._e()])],1)]),t._v(" "),e("div",{staticClass:"cool-lightbox-toolbar",class:t.buttonsClasses},[this.slideshow&&t.items.length>1?e("button",{staticClass:"cool-lightbox-toolbar__btn",attrs:{type:"button"},on:{click:t.togglePlaySlideshow}},[t.isPlayingSlideShow?e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z"}})]):e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M6.5 5.4v13.2l11-6.6z"}})])]):t._e(),t._v(" "),t.items.length>1&&t.gallery?e("button",{staticClass:"cool-lightbox-toolbar__btn",attrs:{type:"button"},on:{click:function(i){t.showThumbs=!t.showThumbs}}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 \n            0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 \n            0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 \n            0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z"}})])]):t._e(),t._v(" "),e("button",{staticClass:"cool-lightbox-toolbar__btn",attrs:{type:"button"},on:{click:t.close}},[t._t("close",[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z"}})])])],2)])],1)]):t._e()])},staticRenderFns:[]},void 0,{data:function(){return{initialMouseX:0,endMouseX:0,IsSwipping:!1,isDraggingSwipe:!1,imgIndex:this.index,isVisible:!1,paddingBottom:!1,imageLoading:!1,showThumbs:!1,aspectRatioVideo:{width:"auto",height:"auto"},buttonsVisible:!0,scale:1,top:0,left:0,lastX:0,lastY:0,isDraging:!1,canZoom:!1,isZooming:!1,transition:"all .3s ease",isPlayingSlideShow:!1,intervalProgress:null,stylesInterval:{display:"block"}}},props:{index:{required:!0},items:{type:Array,required:!0},loop:{type:Boolean,default:!0},slideshow:{type:Boolean,default:!0},slideshowColorBar:{type:String,default:"#fa4242"},slideshowDuration:{type:Number,default:3e3},srcName:{type:String,default:"src"},srcThumb:{type:String,default:"thumb"},overlayColor:{type:String,default:"rgba(30, 30, 30, .9)"},zIndex:{type:Number,default:9999},gallery:{type:Boolean,default:!0}},watch:{index:function(t,i){var e=this;null!==t?(this.imgIndex=t,this.isVisible=!0,window.addEventListener("keydown",this.eventListener),window.innerWidth<700&&setTimeout(function(){window.addEventListener("click",e.showButtons)},200),document.getElementsByTagName("body")[0].style="overflow: hidden"):(this.isVisible=!1,this.stopSlideShow(),window.removeEventListener("keydown",this.eventListener),document.getElementsByTagName("body")[0].style.overflow="",window.removeEventListener("click",this.showButtons))},imgIndex:function(t,i){var e=this;this.imgIndex=t,this.$nextTick(function(){null!==t&null===i&&e.$emit("on-open",t),null!==t&&(e.videoUrl||e.is_cached(e.itemSrc)||(e.imageLoading=!0),e.addCaptionPadding(),e.checkZoom()),e.resetZoom(),e.videoUrl&&e.setAspectRatioVideo()})}},methods:{startSwipe:function(t){this.isDraggingSwipe=!0,this.initialMouseX=this.getMouseXPosFromEvent(t)},continueSwipe:function(t){this.isDraggingSwipe&&(this.IsSwipping=!0,"touchmove"===t.type&&(this.endMouseX=this.getMouseXPosFromEvent(t)))},endSwipe:function(t){var i=this;if(this.isDraggingSwipe=!1,"touchend"!==t.type)this.endMouseX=this.getMouseXPosFromEvent(t);else if(0===this.endMouseX)return;this.endMouseX-this.initialMouseX==0||this.isZooming||(this.endMouseX-this.initialMouseX<-50&&this.onNextClick(),this.endMouseX-this.initialMouseX>50&&this.onPrevClick(),setTimeout(function(){i.IsSwipping=!1,i.initialMouseX=0,i.endMouseX=0},10))},getMouseXPosFromEvent:function(t){return-1!==t.type.indexOf("mouse")?t.clientX:t.touches[0].clientX},is_cached:function(t){var i=new Image;return i.src=t,i.complete},imageLoaded:function(){this.imageLoading=!1},itemThumb:function(t,i){var e=this.getItemThumb(i);if(e)return e;var o=this.getYoutubeID(t);return o?"https://img.youtube.com/vi/"+o+"/mqdefault.jpg":!this.getVimeoID(t)&&t},getItemSrc:function(t){if(null===t)return!1;var i=this.items[t];return this.checkIfIsObject(t)?i[this.srcName]:i},getItemThumb:function(t){if(null===t)return!1;var i=this.items[t];return this.checkIfIsObject(t)?i[this.srcThumb]:!this.isVideo(i)&&i},togglePlaySlideshow:function(){return!!this.slideshow&&(!(!this.hasNext&&!this.loop)&&(this.isPlayingSlideShow=!this.isPlayingSlideShow,void(this.isPlayingSlideShow?this.move():this.stopSlideShow())))},stopSlideShow:function(){this.isPlayingSlideShow=!1,clearInterval(this.intervalProgress),this.stylesInterval={transform:"scaleX(0)",transition:"none"}},move:function(){function t(){i.stylesInterval={transform:"scaleX(0)",transition:"none"},i.onNextClick(!0),i.hasNext||i.loop?setTimeout(function(){i.stylesInterval={transform:"scaleX(1)",background:i.slideshowColorBar,"transition-duration":i.slideshowDuration+"ms"}},50):i.stopSlideShow()}var i=this;this.progressWidth=100,this.intervalProgress=setInterval(t,this.slideshowDuration+90),i.stylesInterval={transform:"scaleX(1)",background:this.slideshowColorBar,"transition-duration":this.slideshowDuration+"ms"}},showButtons:function(t){if(!t.target.matches(".cool-lightbox-button, .cool-lightbox-button *, .cool-lightbox-toolbar__btn, .cool-lightbox-toolbar__btn *")){var i=this;setTimeout(function(){i.buttonsVisible=!i.buttonsVisible},100)}},checkMouseEventPropButton:function(t){return!!this.isZooming&&0===t},handleMouseDown:function(t){this.checkMouseEventPropButton(t.button)&&(this.lastX=t.clientX,this.lastY=t.clientY,this.isDraging=!0,t.stopPropagation())},handleMouseUp:function(t){if(this.checkMouseEventPropButton(t.button)){this.isDraging=!1,this.lastX=this.lastY=0;var i=this;setTimeout(function(){i.canZoom=!0},100)}},handleMouseMove:function(t){this.checkMouseEventPropButton(t.button)&&(this.isDraging&&(this.top=this.top-this.lastY+t.clientY,this.left=this.left-this.lastX+t.clientX,this.lastX=t.clientX,this.lastY=t.clientY,this.canZoom=!1),t.stopPropagation())},zoomImage:function(){if(window.innerWidth<700)return!1;if(!this.canZoom)return!1;var t=this;this.isZooming?this.isDraging||(this.isZooming=!1):this.isZooming=!0,this.isZooming?(this.stopSlideShow(),this.scale=1.6,this.buttonsVisible=!1,setTimeout(function(){t.transition="all .0s ease"},100)):(this.buttonsVisible=!0,this.resetZoom())},resetZoom:function(){this.scale=1,this.left=0,this.top=0,this.canZoom=!1,this.isZooming=!1,this.transition="all .3s ease",this.initialMouseX=!1,window.innerWidth>=700&&(this.buttonsVisible=!0)},checkZoom:function(){var t=this;if(this.videoUrl)return this.canZoom=!1;var i=new Image;i.src=this.itemSrc;var e=document.getElementsByClassName("cool-lightbox"),o=(getComputedStyle(e[0]),e[0].clientHeight);i.onload=function(){var i=this.width,e=this.height;e>o?(t.canZoom=!0,t.imgFullSize={height:e+"px",width:i+"px"}):t.canZoom=!1}},setAspectRatioVideo:function(){var t=this,i=document.getElementsByClassName("cool-lightbox__slide");if(window.innerWidth<700){var e=i[0].clientWidth,o=Math.round(e/16*9);this.aspectRatioVideo.height=o+"px",this.aspectRatioVideo.width=e+"px"}else setTimeout(function(){var e=i[0].clientHeight,o=e/9*16;t.aspectRatioVideo.height=e+"px",t.aspectRatioVideo.width=o+"px"},150)},close:function(){this.stopSlideShow(),this.$emit("close",this.imgIndex),this.showThumbs=!1,this.imgIndex=null},closeModal:function(t){if(window.innerWidth<700)return!1;if(this.IsSwipping)return!1;t.target.matches(".cool-lightbox-thumbs, .cool-lightbox-thumbs *, .cool-lightbox-button, .cool-lightbox-toolbar__btn, .cool-lightbox-toolbar__btn *, .cool-lightbox-button *, .cool-lightbox__slide__img *, .cool-lightbox-video")||this.close()},onNextClick:function(t){void 0===t&&(t=!1),t||this.stopSlideShow(),this.hasNext?this.onIndexChange(this.imgIndex+1):this.loop&&this.onIndexChange(0)},onPrevClick:function(){this.stopSlideShow(),this.hasPrevious?this.onIndexChange(this.imgIndex-1):this.loop&&this.onIndexChange(this.items.length-1)},onIndexChange:function(t){this.imgIndex=t,this.$emit("on-change",t)},addCaptionPadding:function(){if(this.isObject&&(this.items[this.imgIndex].title||this.items[this.imgIndex].descripcion)){var t=document.getElementsByClassName("cool-lightbox-caption");t.length>0&&(this.paddingBottom=t[0].offsetHeight)}else this.paddingBottom=60},isVideo:function(t){return!!(this.getYoutubeUrl(t)||this.getVimeoUrl(t)||this.checkIsMp4(t))},getYoutubeID:function(t){var i=!!t.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/)&&RegExp.$1;return i||!1},getYoutubeUrl:function(t){var i=this.getYoutubeID(t);return!!i&&"https://www.youtube.com/embed/"+i},getVimeoID:function(t){var i=t.match(/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/(?:[^\/]*)\/videos\/|album\/(?:\d+)\/video\/|video\/|)(\d+)(?:[a-zA-Z0-9_\-]+)?/i);return null!==i&&i[1]},getVimeoUrl:function(t){var i=t.match(/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/(?:[^\/]*)\/videos\/|album\/(?:\d+)\/video\/|video\/|)(\d+)(?:[a-zA-Z0-9_\-]+)?/i);return null!==i&&"//player.vimeo.com/video/"+i[1]+"?hd=1&show_title=1&show_byline=1&show_portrait=0&fullscreen=1"},checkIsMp4:function(t){return null!==this.imgIndex&&(!!new String(t).endsWith(".mp4")&&t)},checkIfIsObject:function(t){var i=this.items[t];return"object"==typeof i&&null!==i},eventListener:function(t){switch(t.keyCode){case 39:return this.onNextClick();case 37:return this.onPrevClick();case 38:case 40:case" ":return t.preventDefault();case 27:return this.close()}}},computed:{lightboxStyles:function(){return{"z-index":this.zIndex,"background-color":this.overlayColor}},innerStyles:function(){return{"padding-bottom":this.paddingBottom+"px"}},itemSrc:function(){if(null===this.imgIndex)return!1;var t=this.items[this.imgIndex];return this.isObject?t[this.srcName]:t},isObject:function(){var t=this.items[this.imgIndex];return"object"==typeof t&&null!==t},videoUrl:function(){if(null===this.imgIndex)return!1;var t,i=this.itemSrc;return(t=this.getYoutubeUrl(i))?t:(t=this.getVimeoUrl(i))||!!this.isMp4&&i},isMp4:function(){if(null===this.imgIndex)return!1;var t=this.itemSrc;return!!new String(t).endsWith(".mp4")&&t},lightboxClasses:function(){return{"cool-lightbox--can-zoom":this.canZoom,"cool-lightbox--is-zooming":this.isZooming,"cool-lightbox--show-thumbs":this.showThumbs,"cool-lightbox--is-swipping":this.isDraggingSwipe}},buttonsClasses:function(){return{hidden:!this.buttonsVisible}},hasNext:function(){return this.imgIndex+1<this.items.length},hasPrevious:function(){return this.imgIndex-1>=0},imgWrapperStyle:function(){return{transform:"translate3d(calc(-50% + "+this.left+"px), calc(-50% + "+this.top+"px), 0px) scale3d("+this.scale+", "+this.scale+", "+this.scale+")",top:"50%",left:"50%",transition:this.transition}}}},void 0,!1,void 0,void 0,void 0),s={install:e},n=null;return"undefined"!=typeof window?n=window.Vue:"undefined"!=typeof global&&(n=global.vue),n&&n.use(s),o.install=e,t.default=o,t}({});
